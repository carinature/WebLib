{% extends 'layout.html' %}

{% block app_content %}
    <!------------------------------------------->
    <!-------- Search & Filter Forms ------------>
    <!------------------------------------------->
    {#    <button class='s01 btn-primary' data-toggle='collapse' data-target='#search-subject'>Advanced Search Options &nbsp; (click#}
    {#    me)#}
    {#</button>#}
    {% include 'search_bar.html' %}
{#    {% include 'filtering.html' %}#}
    <br><br><br>

    <!------------------------------------------->
    <!------- Headline - results for ... -------->
    <!------------------------------------------->
{#
    {% if 'post'==method %}
        <div class='container-fluid padding'>
            <!--    <div class='row welcome text-center'>-->
            <div class='row welcome '>
                <div class='col-12'>
                    <h4 class="">Total Number of Results: {{ total }}</h4><br>
                    <h6 class="">For filtered results use form below and then click 'Fetch'.</h6>
                </div>
                <hr>
            </div>
        </div>
    {% endif %}
#}


    <!------------------------------------------->
    <!------ Result Subject Checkbox List ------->
    <!------------------------------------------->
    {% if total %}
        <div class='container'>
            <div class='form-group padding-bot-2 col-9'>
                {# Rows must be placed within a .container (fixed-width) or .container-fluid (full-width) for proper alignment and padding. #}
                {#  -----   Select All  -----   #}
                <div class='custom-control custom-switch text-left'>
                    <input type='checkbox' class='custom-control-input' id='checkAll' checked
                           onClick='filter_check_all(this)'>
                    <label class='custom-control-label padding-bot-2' for='checkAll'>
                        <em><strong>Select All the Results</strong></em><br>
                    </label>
{#                </div>#}
                <br><br><br>
                <form action='#' method='POST' >
                    {#  -----   The Result subjects  -----   #}
                    {% for item in results %}
                        {#                        {% set c = item.C %}  <br>#}
                        {{ checkbox_input(label=item.subject, id=item.subject, name='filter-opt', value=item.C) }}<br>
                        {#                        {{ c }}#}
                    {% endfor %}
                </form>
                </div>
            </div>
        </div>

    {% endif %}

    {#<div>
    {% block app_content %}
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class=flash>
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    {% endblock %}
    </div>#}

    <!--attempt to fetch all-->

    <!-- scripts -->
    <script src='../static/js/script.js'></script>
{% endblock %}

<!------------------------------------------->
<!---- Result Checkbox List Item Macro ------>
<!------------------------------------------->
{% macro checkbox_input(label='', id='', name='', value='') -%}
    <div class='form-group custom-control custom-switch text-left'>
        {#        <input type='{{ type }}' class='form-control' id='{{ id }}' name='{{ name }}'#}
        <input type='checkbox' class='custom-control-input' id='{{ id }}' name='{{ name }}'
               value="{{ value }}" checked>
        <label for='{{ id }}' class='custom-control-label padding-bot-2'>{{ label }}</label>
    </div>
{%- endmacro %}
